<form id="loginForm">
  <label for="username">Username:</label>
  <input type="text" id="username" placeholder="Username" autocomplete="username" />

  <label for="password">Password:</label>
  <input type="password" id="password" placeholder="Password" autocomplete="current-password" />

  <label for="checkbox">
    <input type="checkbox" id="checkbox" />
    Remember me:
  </label>

  <input type="submit" id="submit" value="Submit" />
</form>

<button id="existing" class="hidden">Login as existing user</button>

<script>
  // JavaScript remains unchanged from previous approved version
  const usernameInput = document.getElementById('username');
  const passwordInput = document.getElementById('password');
  const rememberCheckbox = document.getElementById('checkbox');
  const existingBtn = document.getElementById('existing');
  const loginForm = document.getElementById('loginForm');

  window.addEventListener('DOMContentLoaded', () => {
    const savedUsername = localStorage.getItem('username');
    const savedPassword = localStorage.getItem('password');

    if (savedUsername && savedPassword) {
      existingBtn.classList.remove('hidden');
    } else {
      existingBtn.classList.add('hidden');
    }

    usernameInput.value = '';
    passwordInput.value = '';
    rememberCheckbox.checked = false;
  });

  loginForm.addEventListener('submit', (event) => {
    event.preventDefault();

    const username = usernameInput.value.trim();
    const password = passwordInput.value;

    alert(`Logged in as ${username}`);

    if (rememberCheckbox.checked) {
      localStorage.setItem('username', username);
      localStorage.setItem('password', password);
      existingBtn.classList.remove('hidden');
    } else {
      localStorage.removeItem('username');
      localStorage.removeItem('password');
      existingBtn.classList.add('hidden');
    }

    passwordInput.value = '';
  });

  existingBtn.addEventListener('click', () => {
    const savedUsername = localStorage.getItem('username');
    if (savedUsername) {
      alert(`Logged in as ${savedUsername}`);
    }
  });
</script>
